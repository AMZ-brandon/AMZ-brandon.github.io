<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Terms &amp; concepts | Cedar Policy Language Version 2.3 Reference Guide</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Terms &amp; concepts" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/terminology.html" /> <meta property="og:url" content="http://localhost:4000/terminology.html" /> <meta property="og:site_name" content="Cedar Policy Language Version 2.3 Reference Guide" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Terms &amp; concepts" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Terms &amp; concepts","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/Cedar1-green.png"}},"url":"http://localhost:4000/terminology.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Cedar Policy Language Version 2.3 Reference Guide"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Table of contents</a></li><li class="nav-list-item"><a href="/what-is-cedar.html" class="nav-list-link">What is Cedar?</a></li><li class="nav-list-item active"><a href="/terminology.html" class="nav-list-link active">Terms & concepts</a></li><li class="nav-list-item"><a href="/scenario.html" class="nav-list-link">Example scenario</a></li><li class="nav-list-item"><a href="/authorization.html" class="nav-list-link">Authorization</a></li><li class="nav-list-item"><a href="/validation.html" class="nav-list-link">Policy validation</a></li><li class="nav-list-item"><a href="/schema.html" class="nav-list-link">Schema format</a></li><li class="nav-list-item"><a href="/templates.html" class="nav-list-link">Policy templates</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Policy syntax category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/syntax.html" class="nav-list-link">Policy syntax</a><ul class="nav-list"><li class="nav-list-item "><a href="/syntax-policy.html" class="nav-list-link">Basic syntax</a></li><li class="nav-list-item "><a href="/syntax-entity.html" class="nav-list-link">Entity</a></li><li class="nav-list-item "><a href="/syntax-datatypes.html" class="nav-list-link">Data types</a></li><li class="nav-list-item "><a href="/syntax-operators.html" class="nav-list-link">Operators</a></li><li class="nav-list-item "><a href="/syntax-grammar.html" class="nav-list-link">Grammar</a></li></ul></li><li class="nav-list-item"><a href="/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="/doc-history.html" class="nav-list-link">Document history</a></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> </nav> <p>We welcome your feedback about these docs!<br> <a href="mailto:cedar-docs@amazon.com?subject=Feedback&body=My%20name%20%28optional%29:%0D%0A%0D%0AMy%20email%20%28optional%29:%0D%0A%0D%0AWhat%20I%20was%20trying%20to%20do:%0D%0A%0D%0AWhat%20to%20make%20better:">Send feedback by email</a> or use <a href="https://github.com/cedar-policy/cedar-docs/issues">GitHub Issues</a></p> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Cedar Policy Language Version 2.3 Reference Guide" aria-label="Search Cedar Policy Language Version 2.3 Reference Guide" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="cedar-terms-and-concepts"> <a href="#cedar-terms-and-concepts" class="anchor-heading" aria-labelledby="cedar-terms-and-concepts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cedar terms and concepts<a name="terminology"></a> </h1> <p>Cedar manages fine-grained permissions to support the authorization requirements for custom applications. To create Cedar policies successfully, you should understand the following concepts.</p> <details open=""> <summary class="text-delta"> Topics on this page </summary> <ul id="markdown-toc"> <li><a href="#authorization" id="markdown-toc-authorization">Authorization<a name="term-authorization"></a></a></li> <li><a href="#policy" id="markdown-toc-policy">Policy<a name="term-policy"></a></a></li> <li><a href="#policy-evaluation" id="markdown-toc-policy-evaluation">Policy evaluation<a name="term-policy-evaluation"></a></a></li> <li><a href="#policy-template" id="markdown-toc-policy-template">Policy template<a name="term-policy-template"></a></a></li> <li><a href="#entity" id="markdown-toc-entity">Entity<a name="term-entity"></a></a></li> <li><a href="#namespaces" id="markdown-toc-namespaces">Namespaces<a name="term-namespaces"></a></a></li> <li><a href="#groups-and-hierarchies" id="markdown-toc-groups-and-hierarchies">Groups and hierarchies<a name="term-group"></a></a></li> <li><a href="#schema" id="markdown-toc-schema">Schema<a name="term-schema"></a></a></li> </ul> </details> <h2 id="authorization"> <a href="#authorization" class="anchor-heading" aria-labelledby="authorization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authorization<a name="term-authorization"></a> </h2> <p><em>Authorization</em> is the process of determining if a specific user request to do something is allowed by the defined set of <a href="#term-policy">policies</a>. Authorization works by evaluating each incoming request against the set of policies provided to Cedar.</p> <p>Authorization is preceded by <em>authentication</em>. Authentication is the process of verifying the principal’s identity, meaning that they are really who they claim to be. Authentication can involve user names, passwords, multi-factor authentication (MFA) devices, or other means of proving identity. Once authenticated, a user or device becomes a <em>principal</em> that can make a request.</p> <p>Cedar lets you describe permissions by creating <a href="#term-policy">policies</a> as text documents that describe which principals are allowed to perform which <em>actions</em>, on which <em>resources</em>, and in a specific <em>context</em>.</p> <p>When a principal attempts to do something in an application, the application generates an authorization request. Cedar <a href="#term-policy-evaluation">evaluates</a> requests against the set of defined policies, producing a decision to <strong>allow</strong> or <strong>deny</strong> the request.</p> <h2 id="policy"> <a href="#policy" class="anchor-heading" aria-labelledby="policy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Policy<a name="term-policy"></a> </h2> <p>A policy is a statement that declares which principals are explicitly permitted, or explicitly forbidden, to perform an action on a resource. The collection of policies together define the authorization rules for your application.</p> <p>A policy begins by specifying the <strong><em>effect</em></strong>, to either <code class="language-plaintext highlighter-rouge">permit</code> or <code class="language-plaintext highlighter-rouge">forbid</code> any requests that match the scope and conditions specified in the policy.</p> <p>The <strong><em>scope</em></strong> identifies the specific <em>principal</em> and <em>resource</em> to which the policy applies, and the <em>actions</em> that the principal can perform on the resource. The scope is mandatory.</p> <p>Optionally, you can specify <strong><em>conditions</em></strong> that must be true for the policy to affect the request. These conditions take the form of <code class="language-plaintext highlighter-rouge">when</code> and <code class="language-plaintext highlighter-rouge">unless</code> clauses that evaluate the attributes of the principals, resources, and other elements that make up the context of the request. Conditions can check things like the value of tags attached to the principal and resource, the time of day the request is made, or the IP address from which the request is sent.</p> <p>In Cedar, you can create a policy in one of two ways:</p> <ul> <li><strong>Static policies</strong> – Standalone, complete policies that require no additional processing and are ready to be used in authorization decisions by Cedar. For more information about creating a static policy, see <a href="/syntax-policy.html">Basic policy construction</a>.</li> <li><strong>Template-linked policies</strong> – Policies created from <a href="#term-policy-template">a policy template</a>. This policy type consists of a template that has placeholders for the principal, resource, or both. The template is completed by replacing the placeholders with specific values. This completed template results in a template-linked policy that can be evaluated at runtime like a static policy.</li> </ul> <p>You can use a variety of strategies to construct the policies. Some of the common strategies are the following:</p> <ul> <li><strong><a href="https://wikipedia.org/wiki/Role-based_access_control">Role-based access control (RBAC)</a></strong> – Cedar lets you define roles that receive a set of permissions granted by associating policies with the role. These roles can then be assigned to one or more identities. Each assigned identity acquires the permissions granted by the policies associated with the role. If the policies associated with a role are modified, it automatically impacts any identity assigned to that role. Cedar supports RBAC decisions by using <a href="#term-group">groups</a> for your principals.</li> <li><strong><a href="https://wikipedia.org/wiki/Attribute-based_access_control">Attribute-based access control (ABAC)</a></strong> – Cedar uses the attributes attached to the principal and the resource to determine the permissions. For example, a policy can state that all users that are tagged as the owner of a resource automatically have access. A different policy could state that only users that are members of the Human Resources (HR) department can access resources that are tagged as HR resources.</li> </ul> <h2 id="policy-evaluation"> <a href="#policy-evaluation" class="anchor-heading" aria-labelledby="policy-evaluation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Policy evaluation<a name="term-policy-evaluation"></a> </h2> <p>An authorization request is a request by an application for an authorization decision, asking the question “<em>Can this principal take this action on this resource in this context?</em>”. To reach the decision, Cedar’s authorization engine evaluates a request against each <a href="#term-policy">policy</a>, and combines the results. It ultimately produces an <strong><em>authorization response</em></strong> that consists of the decision (<code class="language-plaintext highlighter-rouge">Allow</code> or <code class="language-plaintext highlighter-rouge">Deny</code>), and the list of <strong><em>determining policies</em></strong> that are the reasons for that decision.</p> <p>Your application must gather all of the relevant information and provide it to Cedar’s authorization engine when making the request.</p> <ul> <li>All of the details about the principal and resource entities must be provided to Cedar. These details must include all of the entity data that are relevant to the request. For example, for a request to authorize a user named Juan to access a shared photo, the request must include the entities for the groups that Juan is a member of, the folder hierarchy where the photo resides, and any other relevant attributes of the user and photo.</li> <li>Other details that might be useful to the decision, including the transient or session-specific details, such as the IP address of the requesting computer and the list of valid IP ranges that make up the company’s internal network, or whether the user authenticated using a multi-factor authentication (MFA) device. This additional information is called the <em>context</em>.</li> <li>All of the policies that match any one or more of the principal, actions, and the resource specified in the request. We recommend that you include all policies to avoid the risk of missing a relevant policy.</li> </ul> <p>The algorithmic details for how authorization decisions are made, and how individual policies are evaluated, are discussed in the <a href="/authorization.html">authorization</a> section of these docs.</p> <h2 id="policy-template"> <a href="#policy-template" class="anchor-heading" aria-labelledby="policy-template"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Policy template<a name="term-policy-template"></a> </h2> <p>A policy template is a policy that has a placeholder for either the principal, the resource, or both. A policy template is useful when you have a common pattern for access that you need to apply to many resources, or many principals. You can’t use a template in an authorization decision directly. Instead, you first associate a principal and resource with the template to create a template-linked policy that is complete and usable for authorization decisions.</p> <p>For example, a policy template might allow commenting on any photo in an album unless that photo is tagged “Private”. Instead of having to manually duplicate such a policy statement in a policy for every user who accesses the album, you can create a policy template.</p> <p>A policy created from a policy template is called a template-linked policy. When you create a template-linked policy, you associate the policy template with the principal who needs access to the resource. Template-linked policies are dynamic. When you change the policy statement in a policy template, all policies created from that policy template use the new policy statement automatically in all authorization decisions from that moment on. This capability is useful when you need to apply the same permissions to many principal and resource pairs.</p> <p>For more information about creating and using policy templates, see <a href="/templates.html">Cedar policy templates</a>.</p> <h2 id="entity"> <a href="#entity" class="anchor-heading" aria-labelledby="entity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Entity<a name="term-entity"></a> </h2> <p>A <a href="/syntax-policy.html#term-parc-principal">principal</a>, an <a href="/syntax-policy.html#term-parc-action">action</a>, or a <a href="/syntax-policy.html#term-parc-resource">resource</a> that is part of your application are all represented in Cedar as <em>entities</em>.</p> <p>Entities are referenced by their type and identifier, together called the entity’s <em>unique identifier</em> (UID). In the example policies P1 and P2 above, <code class="language-plaintext highlighter-rouge">User::"jane"</code>, <code class="language-plaintext highlighter-rouge">Action::"ViewPhoto"</code>, and <code class="language-plaintext highlighter-rouge">UserGroup::"kevinFriends"</code> are all UIDs. Here, <code class="language-plaintext highlighter-rouge">User</code>, <code class="language-plaintext highlighter-rouge">UserGroup</code>, and <code class="language-plaintext highlighter-rouge">Action</code> are entity types, and <code class="language-plaintext highlighter-rouge">"jane"</code>, <code class="language-plaintext highlighter-rouge">"kevinFriends"</code>, and <code class="language-plaintext highlighter-rouge">"viewPhoto"</code> are entity identifiers. The <code class="language-plaintext highlighter-rouge">Action</code> entity type is specially reserved for use with actions, but otherwise you can define whatever entity types are required by your application scenario.</p> <p>Entities have attributes that describe the entity in some way. For example, an entity of type <code class="language-plaintext highlighter-rouge">Photo</code> might contain attributes like the following:</p> <ul> <li>A <code class="language-plaintext highlighter-rouge">name</code> (a <a href="/syntax-datatypes.html#datatype-string">string</a>)</li> <li>A <code class="language-plaintext highlighter-rouge">createdDate</code> (a string containing a date)</li> <li>A <code class="language-plaintext highlighter-rouge">location</code> (a <a href="/syntax-datatypes.html#datatype-set">set</a> of type <a href="/syntax-datatypes.html#datatype-decimal">Decimal</a> that represent coordinates)</li> <li>The <code class="language-plaintext highlighter-rouge">photographer</code> (a reference to another entity representing the user who took the photo).</li> </ul> <p>Define the attributes that are useful to your scenario.</p> <p>For more details about entities, see <a href="/syntax-entity.html">Entity</a> in <a href="/syntax.html">Cedar syntax - elements of the policy language</a>.</p> <h2 id="namespaces"> <a href="#namespaces" class="anchor-heading" aria-labelledby="namespaces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Namespaces<a name="term-namespaces"></a> </h2> <p>As software products increase in size and organizations grow, multiple services can be added to contribute to the overall implementation of an application or product portfolio. You can see this outcome happening when vendors offer several products to customers, or alternatively, in service meshes where multiple services contribute portions of an application.</p> <p>When this situation occurs, Cedar entity definitions can become ambiguous. For example, consider a vendor that offers both a hosted database product and a hosted furniture design service. In this environment, a Cedar action entity such as <code class="language-plaintext highlighter-rouge">Action::"createTable"</code> is ambiguous; it could be about creating a database table or a new piece of furniture. Similarly, an entity UID such as <code class="language-plaintext highlighter-rouge">Table::"0d6169ca-b246-43a7-94b9-8a68a9e8f8b3"</code> could refer to either product.</p> <p>This ambiguity can become an issue in circumstances such as the following:</p> <ul> <li>When both services store their Cedar policies in a single policy store.</li> <li>If policies are later aggregated into a central repository to explore cross-cutting questions about a customer’s access permissions throughout the portfolio of services.</li> </ul> <p>To resolve this ambiguity, you can add <em>namespaces</em> to Cedar entities, including actions. A namespace is a string prefix for a type, separated by a pair of colons (<code class="language-plaintext highlighter-rouge">::</code>) as a delimiter.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Database::Action::"createTable"
Database::Table::"c7b981f1-97e4-436b-9af9-21054a3b30f1"
Furniture::Action::"createTable"
Furniture::Table::"c7b981f1-97e4-436b-9af9-21054a3b30f1"
</code></pre></div></div> <p>Namespaces can also be nested to arbitrary depth.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ExampleCo::Database::Table::"c7b981f1-97e4-436b-9af9-21054a3b30f1"
ExampleCo::Furniture::Table::"c7b981f1-97e4-436b-9af9-21054a3b30f1"
ExampleCo::This::Is::A::Long::Name::For::Something::"12345"
</code></pre></div></div> <h2 id="groups-and-hierarchies"> <a href="#groups-and-hierarchies" class="anchor-heading" aria-labelledby="groups-and-hierarchies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groups and hierarchies<a name="term-group"></a> </h2> <p>You can represent a group in Cedar by adding a <code class="language-plaintext highlighter-rouge">parent</code> attribute to an entity. All entities with the same parent can be considered members of that group. If you have an entity “A” that has a parent entity “B”, then you can say that A is a member of B.</p> <p>Because a group can include other groups as members, you can use groups to model a multi-tiered hierarchy. You’re not limited to the generic concept of a group with a single collection of members.</p> <p>In addition to the expected <code class="language-plaintext highlighter-rouge">User</code> as a member of a <code class="language-plaintext highlighter-rouge">UserGroup</code> for principals, you can also apply this approach to your resource types. For example, you can mimic the <code class="language-plaintext highlighter-rouge">File</code> in a <code class="language-plaintext highlighter-rouge">Folder</code> paradigm, with folders nested in other folders. You can also group actions, where an action like <code class="language-plaintext highlighter-rouge">ViewPhoto</code> can be classified as a member of the <code class="language-plaintext highlighter-rouge">ReadOnly</code> actions collection.</p> <p>You can use the <a href="/syntax-operators.html#operator-in">in</a> operator in a policy condition to check whether one entity has another entity in its hierarchy. For example, the following policy snippet uses the <code class="language-plaintext highlighter-rouge">in</code> operator twice to allow any user who is a member of <code class="language-plaintext highlighter-rouge">Group::"janeFriends"</code> to view any photo that is part of <code class="language-plaintext highlighter-rouge">Album::"janeTrips"</code>.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>permit(
    principal in Group::"janeFriends",
    action == Action::"ViewPhoto",
    resource in Album::"janeTrips"
);
</code></pre></div></div> <h2 id="schema"> <a href="#schema" class="anchor-heading" aria-labelledby="schema"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Schema<a name="term-schema"></a> </h2> <p>A schema is a declaration of the structure of the entity types supported by your application, and the actions your application may provide in authorization requests. Cedar uses <a href="https://json.org">JSON</a> to define a schema. You can use the schema to define the principals, resources, and actions used by your application. Each definition specifies the structure of the entity that your application recognizes. For example, a resource of type <code class="language-plaintext highlighter-rouge">Photo</code> could be defined to include both a <code class="language-plaintext highlighter-rouge">Name</code> attribute that is a <a href="/syntax-datatypes.html#datatype-string">string</a>, and a <code class="language-plaintext highlighter-rouge">LocationTaken</code> attribute that is a <a href="/syntax-datatypes.html#datatype-record">record</a>. That record could include <code class="language-plaintext highlighter-rouge">Latitude</code> and <code class="language-plaintext highlighter-rouge">Longitude</code> values that are both <a href="/syntax-datatypes.html#datatype-decimal">decimal</a>.</p> <p>Cedar can use the schema to validate your authorization policies. Validation helps ensure that you don’t create a policy that references an entity or attribute one way, and then reference that entity or attribute in a different way when you make authorization requests later. Validation also ensures that you use the right data types. For example, if the <code class="language-plaintext highlighter-rouge">Age</code> attribute is defined in your schema as type <a href="/syntax-datatypes.html#datatype-long">Long</a>, then the following line in a policy submitted to Cedar for validation generates an error.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unless { principal.Age &gt; "21" }
</code></pre></div></div> <p>Cedar determines from the schema that the <code class="language-plaintext highlighter-rouge">Age</code> attribute is type <code class="language-plaintext highlighter-rouge">Long</code>, and that digits with quotes around them are always of type <code class="language-plaintext highlighter-rouge">String</code>. This line fails validation because the <a href="/syntax-operators.html#operator-greaterthan">&gt; comparison operator</a> works only with <code class="language-plaintext highlighter-rouge">Long</code> values and can’t compare with a <code class="language-plaintext highlighter-rouge">String</code>. If you remove the quotes from around the <code class="language-plaintext highlighter-rouge">21</code> and resubmit the policy, Cedar successfully validates the policy.</p> <p>Cedar doesn’t require you to define a schema. However, if you don’t define a schema, then Cedar doesn’t have a way to ensure that the policies adhere to your intentions. If the structure or type of the entity or attribute inferred by a policy doesn’t match the structure or type of the entity or attribute inferred by the parameters of an authorization request, then Cedar can generate errors or return incorrect authorization results. Because of this possibility, we recommend that you create schemas for your applications.</p> <p>When you submit policies to Cedar, your policies are evaluated by default using <code class="language-plaintext highlighter-rouge">Strict</code> mode. You can optionally turn validation off.</p> <p>For details about the syntax required to define a schema, see <a href="/schema.html">Cedar schema format</a>.</p> </main> <hr> <footer> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/cedar-policy/cedar-docs/tree/main/docs/terminology.md" id="edit-this-page">We welcome your feedback. You can edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
